<div class="bg">
  <div class="col-md-3 offset-md-3">

    <div class="card">
      <h4 class="card-header">Login to Movie World</h4>
      <div class="card-body">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label>Username
              <input type="text" formControlName="username" class="form-control"
                     [ngClass]="{ 'is-invalid': submitted && f.username.errors }"/></label>
            <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
              <div *ngIf="f.username.errors.required">Username is required</div>
            </div>
          </div>
          <div class="form-group">
            <label>Password
              <input type="password" formControlName="password" class="form-control"
                     [ngClass]="{ 'is-invalid': submitted && f.password.errors }"/></label>
            <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
              <div *ngIf="f.password.errors.required">Password is required</div>
            </div>
          </div>
          <button [disabled]="loading" class="btn btn-primary">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Login
          </button>
          <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>
<!--          <div class="alert alert-danger mt-3 mb-0">{{error}}</div>-->
        </form>
      </div>
    </div>
  </div>


  <div class="col-md-3 offset-md-9">

    <div class="card">
      <h4 class="card-header">Register</h4>
      <div class="card-body">
        <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
          <div class="form-group">
            <label>Username
              <input type="text" formControlName="username" class="form-control"
                     [ngClass]="{ 'is-invalid': submitted2 && g.username.errors }" required/></label>
            <div *ngIf="submitted2 && g.username.errors" class="invalid-feedback">
              <div *ngIf="g.username.errors.required">Username is required</div>
            </div>
          </div>
          <div class="form-group">
            <label>Password
              <input type="password" formControlName="password" class="form-control"
                     [ngClass]="{ 'is-invalid': submitted2 && g.password.errors }" required/></label>
            <small class="form-text text-muted">Password minimum 8 characters.</small>
            <div *ngIf="submitted2 && g.password.errors" class="invalid-feedback">
              <div *ngIf="g.password.errors.required">Password is required</div>
            </div>
          </div>
          <div class="form-group">
            <label>Re-type Password
              <input type="password" formControlName="repassword" class="form-control"
                     [ngClass]="{ 'is-invalid': submitted2 && g.repassword.errors }" required/></label>
            <div *ngIf="submitted2 && g.repassword.errors" class="invalid-feedback">
              <div *ngIf="g.repassword.errors.required">Re-type Password is required</div>
            </div>
          </div>
          <div class="form-group">
            <label>First Name
              <input type="text" formControlName="firstname" class="form-control"
                     [ngClass]="{ 'is-invalid': submitted2 && g.firstname.errors }" required/></label>
            <div *ngIf="submitted2 && g.firstname.errors" class="invalid-feedback">
              <div *ngIf="g.firstname.errors.required">firstname is required</div>
            </div>
          </div>
          <div class="form-group">
            <label>Last Name
              <input type="text" formControlName="lastname" class="form-control"
                     [ngClass]="{ 'is-invalid': submitted2 && g.lastname.errors }" required="true"/></label>
            <div *ngIf="submitted2 && g.lastname.errors" class="invalid-feedback">
              <div *ngIf="g.lastname.errors.required">Last Name is required</div>
            </div>
          </div>
          <div class="form-group">
            <label>User Role :
              <select class="form-control" formControlName="userrole"
                      [ngClass]="{ 'is-invalid': submitted2 && g.userrole.errors }">
                <option value="User">User</option>
                <option value="Critic">Critic</option>
              </select>
                          </label>
              <div *ngIf="submitted2 && g.userrole.errors" class="invalid-feedback">
                <div *ngIf="g.userrole.errors.required">Role is required</div>

          </div>

          <div class="form-group">
            <label>Email
              <input type="email" formControlName="email" class="form-control" required
                     [ngClass]="{ 'is-invalid': submitted2 && g.email.errors }" /></label>
            <small class="form-text text-muted">Must be in form of name@mail.com</small>
            <div *ngIf="submitted2 && g.email.errors" class="invalid-feedback">
              <div *ngIf="g.email.errors.required">Email is required</div>
              <div *ngIf="g.email.errors.pattern">Email Should be in form of name@mail.com</div>
            </div>
            <div></div>
          </div>

          </div>
          <button [disabled]="loading" class="btn btn-primary">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Register
          </button>
          <div *ngIf="error2" class="alert alert-danger mt-3 mb-0">{{error2}}</div>
        </form>
      </div>
    </div>
  </div>
</div>



